!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).influx={})}(this,(function(t){"use strict";function e(t,e){for(const r in e)t=t.replace(r,e[r]);return t}class r extends Error{constructor(t,e,n,s,o){super(t),this.status=e,this.statusText=n,this.data=s,this.url=o,Object.setPrototypeOf(this,r.prototype)}}function n(t,r){let n=t;return t.body&&(n.body=e(t.body,r)),"api"===t.type&&(t.queryParams&&(n.queryParams=e(t.queryParams,r)),t.pathParams&&(n.pathParams=e(t.pathParams,r))),n}n.call=function(t,e){const s=n(t,e);let{type:o,method:a,headers:u,body:i,queryParams:c,action:p,pathParams:d}=s,l=p;if("form"===o){let t;return i&&(t=JSON.parse(i)),function(t,e,r,n){const s=document.createElement("form");s.setAttribute("id","checkout-cf-form"+Math.floor(1e6*Math.random())),s.setAttribute("method",e),s.setAttribute("action",t),s.setAttribute("target",n),s.style.width="0px",s.style.height="0px",s.style.display="none";for(const t in r)if(Object.hasOwnProperty.call(r,t)){const e=r[t];let n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t),n.setAttribute("value",e),s.appendChild(n)}return document.body.appendChild(s),s}(l,"post",t,"_blank")}return d&&(l=function(t,e){return e=JSON.parse(e),t.replace(/:([^\/]+)/g,((t,r)=>e[r]||`:${r}`))}(l,d)),c&&(l=function(t,e){const r=new URLSearchParams(JSON.parse(e)).toString();return r?`${t}?${r}`:t}(l,c)),new Promise(((t,e)=>{fetch(l,{method:a,headers:u,body:"POST"===a||"PUT"===a?i:null}).then((t=>t.ok?t:t.json().then((e=>{throw new r("HTTP error",t.status,t.statusText,e,t.url)})))).then((e=>t(e))).catch((t=>e(t)))}))};var s={parseText:e,parseJSON:n};t.default=s,t.parseJSON=n,t.parseText=e,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=influx.min.js.map
